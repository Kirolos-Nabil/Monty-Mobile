{% extends 'assignments/layout.html' %}

{% load static %}

{% block data %}

{% if message %}
    </br>
    <div style="color: red;">{{ message }}</div>
{% endif %}

{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

<div class="container" style="margin-top: 20px;">

    <!--____________form row____________ -->
    <div class="row container">
        <div class="col-xl-12 d-flex">
            <div class="card flex-fill">
                <div class="card-header">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="card-title">Change Password</h5>
                    </div>
                </div>
                <div class="card-body">
                    <!-- _________________form__________________ -->
                    <form method="post">
                        {% csrf_token %}
                        </br>
                        <div class="form-group col-md-12">
                        {{ form.as_p }}
                        </div>
                        {% comment %} <div class="form-row">
                            <!-- _________________nameInput__________________ -->
                            <div class="form-group col-md-12">
                                <label for="inputName">Username</label>
                                <input type="text" name="username" class="form-control" id="inputName" placeholder="Username">
                            </div>
                            <!-- _________________end nameInput__________________ -->
                            <!-- _________________emailInput__________________ -->
                            <div class="form-group col-md-12">
                                <label for="inputEmail">Email Address</label>
                                <input type="email" name="email" class="form-control" id="inputEmail" placeholder="Email Address">
                            </div>
                            <!-- _________________end emailInput__________________ -->
                            <!-- _________________passwordInput__________________ -->
                            <div class="form-group col-md-6">
                                <label for="inputPassword">Password</label>
                                <input type="password" name="password" class="form-control" id="inputPassword" placeholder="Password">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="inputConfirm">Confirm Password</label>
                                <input type="password" name="confirmation" class="form-control" id="inputConfirm" placeholder="Confirm Password">
                            </div>
                            <!-- _________________end passwordInput__________________ -->
                        </div>

                        {% if user.is_superuser %}
                        <div class="form-group col-md-4">
                            <label for="inputGroup">Group</label>
                            <select id="inputGroup" name="group" class="form-control" required>
                                <option value="" disabled selected>Select One</option>
                                {% for GroupsData in Groups %}
                                <option value="{{GroupsData.id}}">{{GroupsData.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        {% if not Companies %}
                        <div class="">There isn't any company to attach user to it, Please add company first for donig this please <a href="{% url 'create_company' %}">click here</a></div>
                        {% endif %}
                        <div class="form-group col-md-4">
                            <label for="inputCompany">Company</label>
                            <select id="inputCompany" name="company" class="form-control" required>
                                <option value="" disabled selected>Select One</option>
                                {% for CompaniesData in Companies %}
                                <option value="{{CompaniesData.id}}">{{CompaniesData.name}}</option>
                                {% endfor %}
                            </select>
                        </div>
                        {% endif %} {% endcomment %}
                        

                        <div class="row">
                            <div class="col-6">
                                <button type="submit" class="btn btn-main" style="float: right;">Change Password</button>
                            </div>
                            <div class="col-6">
                                <a href="../"><button type="button" class="btn btn-main">Cancel</button></a>
                            </div>
                        </div>
                    </form>
                    <!-- _________________end form__________________ -->
                </div>
            </div>
        </div>
    </div>
    <!--____________end form row____________-->

</div>
{% endblock %}
